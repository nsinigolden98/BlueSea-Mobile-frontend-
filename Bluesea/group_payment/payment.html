<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Group Payment — VTU Platform</title>
  <meta name="description" content="Group Payment platform — easily set up and manage shared expenses for airtime, data, electricity, subscriptions, and more.">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="../side-nav.css">
</head>
<body>

  <nav>
    <iframe src="../side-nav.html" id ="side-bar" ></iframe>
  </nav>

  <div class="body">
  <!-- Header: app title and primary action -->
  <header class="site-header" role="banner">
    <div class="header-inner">
      <div class="brand" aria-hidden="false">
      <button  class="menu-btn" id="menu-btn" onclick="showNav()"> ☰
        </button>
       <!-- Divider (mobile only) -->
<span class="header-divider"></span>
<!-- Header text (non-clickable) -->
        <div class="brand-text">
          <h1 class="app-title">Group Payment</h1>
          <p class="app-sub">Easily set up and manage shared expenses</p>
        </div>
      </div>

      <div id="add-btn" class="header-actions">
        <button id="open-create" class="btn btn-primary" aria-haspopup="dialog" aria-controls="create-panel">
          <svg class="icon" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M12 5v14M5 12h14" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="btn-text">Create Group</span>
        </button>
      </div>
    </div>
  </header>

  <main id="main" class="main" role="main" onclick="closeNavBody()">
    <!-- PAGE: Dashboard (empty state initially) -->
    <section id="dashboard" class="dashboard" aria-labelledby="dashboard-heading">
      <div class="dashboard-inner" id="dashboard-inner">
        <h2 id="dashboard-heading" class="section-title">Your Groups</h2>
        <p class="muted">Create a group to start collecting contributions for airtime, data, electricity, subscriptions, betting and more.</p>

        <div id="placeholder-area" class="placeholder-area">
          <div id="empty-state" class="empty-state" role="status" aria-live="polite">
            <svg class="empty-illustration" width="160" height="120" viewBox="0 0 160 120" aria-hidden="true" focusable="false">
              <rect x="0" y="0" width="160" height="120" rx="8" fill="#f5f7ff"></rect>
              <g transform="translate(20,20)" fill="none" stroke="#9aa8ff" stroke-width="2">
                <rect x="0" y="0" width="120" height="60" rx="6"></rect>
                <path d="M10 20h40M10 30h80M10 40h60" stroke-linecap="round"></path>
              </g>
            </svg>

            <div class="empty-copy">
              <h3 class="empty-title">No groups yet</h3>
              <p class="muted">Create a group to invite members and start collecting funds for shared services.</p>
              <div class="empty-actions">
                <button id="empty-create" class="btn btn-secondary" onclick="hideJoinGroup()">Create Group</button>
                <button id="empty-join" class="btn btn-ghost" onclick="hideCreateGroup()">Join Group</button>
              </div>
            </div>
          </div>

          <!-- Groups list (occupies same area as placeholder) -->
          <ul id="group-list" class="group-list hidden" aria-live="polite"></ul>
        </div>
      </div>
    </section>

    <!-- PAGE: Create / Join Group (panel) -->
    <section id="create-panel" class="panel" aria-hidden="true" aria-labelledby="panel-heading" role="dialog">
      <div class="panel-inner" role="document">
        <div class="panel-header">
          <h2 id="panel-heading" class="panel-title">Create or Join Group</h2>
          <button id="close-panel" class="btn-icon" aria-label="Close panel">
            <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path d="M6 6l12 12M6 18L18 6" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>

        <!-- Tabs -->
        <nav class="tabs" role="tablist" aria-label="Create or join group">
          <button id="tab-create" class="tab active" role="tab" aria-selected="true" aria-controls="create-form" onclick="hideJoinGroup()">Create Group</button>
          <button id="tab-join" class="tab" role="tab" aria-selected="false" aria-controls="join-form" onclick="hideCreateGroup()">Join Existing Group</button>
        </nav>

        <div class="panel-body">
          

          <!-- Create Group Form -->
          <form id="create-form" class="form" role="form" aria-labelledby="panel-heading" novalidate>
            <p class="muted">Set up your group, define the payment goal and invite members to contribute.</p>

            <label for="group-name" class="form-label">Group Name</label> 
            <input id="group-name" name="groupName" class="form-input" type="text" placeholder="e.g., Weekend Netflix Plan" required aria-required="true" />  

            <label for="service-type" class="form-label">Service Type</label>  
            <select id="service-type" name="serviceType" class="form-select" required aria-required="true">
              <option value="">Select Payment Type</option>
              <option value="airtime">Airtime</option>
              <option value="data">Data</option>
              <option value="electricity">Electricity</option>
              <option value="subscriptions">TV</option>
              <!--<option value="betting">Betting</option>-->
            </select> 

            <!-- Dynamic fields container -->
            <div id="dynamic-fields" class="dynamic-fields" aria-live="polite"></div>
            
            <!--<label for="subscription-number" class="form-label">Subscription Number</label> 
            <input id="subscription-number" name="subscription-number" class="form-input" type="number" min="1" placeholder="Subscription Number" required aria-required="true" /> 
            -->
            <label for="target-amount" class="form-label">Target Amount (NGN)</label> 
            <input id="target-amount" name="targetAmount" class="form-input" type="number" min="1" placeholder="Enter total amount" required aria-required="true" /> 

            <label for="group-purpose" class="form-label">Purpose</label> 
            <input id="group-purpose" name="purpose" class="form-input" type="text" placeholder="Short description of the group" /> 

            <label for="invite-members" class="form-label">Invite Members</label> 
            <textarea id="invite-members" name="invite" class="form-textarea" placeholder="Enter emails or phone numbers, separated by commas"></textarea> 

            <div class="form-actions">
              <button type="submit" id="create-submit" class="btn btn-primary">Create Group</button>
              <button type="button" id="cancel-create" class="btn btn-ghost">Cancel</button>
            </div>
          </form>

          <!-- Join Group Form -->
          <form id="join-form" class="form hidden" role="form" novalidate>
            <p class="muted">Enter the group code or invitation link you received to join the group.</p>

            <label for="join-code" class="form-label">Group Code or Invitation Link</label>
            <input id="join-code" name="joinCode" class="form-input" type="text" placeholder="Enter code or paste link here" required aria-required="true" />

            <div class="form-actions">
              <button type="submit" id="join-submit" class="btn btn-primary">Join Group</button>
              <button type="button" id="cancel-join" class="btn btn-ghost">Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- PAGE: Group Detail (single view) -->
    <section id="group-detail" class="group-detail" aria-hidden="true" aria-labelledby="detail-heading">
      <div class="detail-inner">
        <div class="detail-header">
          <button id="back-to-dashboard" class="btn btn-ghost" aria-label="Back to dashboard">
            <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path d="M15 18l-6-6 6-6" stroke="#0b5fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="btn-text">Back</span>
          </button>

          <div>
            <h3 id="detail-heading" class="detail-title">Group</h3>
            <p id="detail-sub" class="muted small">Details and contribution status</p>
          </div>

          <div class="detail-actions">
            <button id="invite-btn" class="btn btn-secondary">Invite Members</button>
          </div>
        </div>

        <div class="detail-body">
          <div class="detail-card">
            <div class="detail-row">
              <strong>Group Name</strong>
              <span id="detail-name">-</span>
            </div>
            <div class="detail-row">
              <strong>Service Type</strong>
              <span id="detail-service">-</span>
            </div>
            <div class="detail-row">
              <strong>Options</strong>
              <span id="detail-options">-</span>
            </div>
            <div class="detail-row">
              <strong>Purpose</strong>
              <span id="detail-purpose">-</span>
            </div>
            <div class="detail-row">
              <strong>Target Amount</strong>
              <span id="detail-amount">-</span>
            </div>
            <div class="detail-row">
              <strong>Join Code</strong>
              <span id="detail-joincode">-</span>
            </div>
          </div>

          <div class="payments-section">
            <h4 class="section-subtitle">Payment Status</h4>
            <div id="payments-list" class="payments-list" aria-live="polite"></div>
            <div class="reminder-row">
              <button id="send-reminder" class="btn btn-primary">Send AI Powered Reminders</button>
            </div>
          </div>
        </div>
      </div>
    </section>
     <div id="toast" class="toast" aria-live="assertive" hidden></div>
             
  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="footer-inner">
      <p class="muted small">© <span id="year"></span> Group Payment — VTU Platform</p>
    </div>
  </footer>
</div>
  <script src="script.js" defer></script>
  <script src="../side-nav.js"></script>
</body>
</html>