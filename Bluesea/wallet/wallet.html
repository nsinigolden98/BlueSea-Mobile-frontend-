<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Wallet</title>

    <!-- Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <!-- styles are inside wallet/ -->
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="../side-nav.css" />
    <link rel="stylesheet" href="../loader.css" />
    <link rel="stylesheet" href="../recent-trx.css" />
  </head>
  <body id="body">
    <!-- Left navigation -->
    <nav>
      <iframe src="../side-nav.html" id="side-bar"></iframe>
    </nav>

    <!-- Main content -->
    <main class="main" id="main" role="main" aria-live="polite">
      <header class="app-header"> 
          <!-- Hamburger menu (your existing logic still works) -->  
          <button type="button" class="menu-btn" id="menu-btn" onclick="showNav()"> 
            ☰
          </button>
  <!-- Divider (mobile only) -->
  <span class="header-divider"></span>
  <!-- Header text (non-clickable) -->
  <div class="header-text">
    <h1>Wallet</h1>
    <p>Buy Smarter & Cheaper</p>
  </div>
      </header>

      <div
        class="main_inner"
        id="main_inner"
        aria-live="polite"
        onclick="closeNavBody()"
      >
        <!-- Wallet page -->
        <section class="page">
          <div class="page_inner" id="page_inner">
            <section
              class="topgrid"
              aria-hidden="false"
              style="margin-bottom: 20px"
            >
              <div class="card balance_card" id="total_balance_card">
                <div class="card_title_row">
                  <div class="card_title">Available Balance</div>
                  <!-- Eye toggle immediately after the label -->
                  <button
                    type="button"
                    id="total_eye_btn"
                    class="total_eye_btn"
                    onclick="hideBalance()"
                    title="Show / hide total balance"
                  >
                    <svg
                      id="total_eye_icon"
                      viewBox="0 0 24 24"
                      width="18"
                      height="18"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                    >
                      <path
                        d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"
                      ></path>
                      <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"></path>
                    </svg>
                  </button>
                </div>

                <div class="balance_value" id="balance_value">******</div>
                <div class="balance_actions">
                  <button
                    class="btn btn_primary btn_deposit"
                    id="deposit_btn"
                    onclick="deposit()"
                  >
                    Deposit
                  </button>
                  <button
                    class="btn btn_primary btn_withdraw"
                    id="withdraw_btn"
                    onclick="withdraw()"
                  >
                    Withdraw
                  </button>
                </div>
              </div>

              <!--   <div class="card large_right">
            
              </div> -->
            </section>

            <iframe
              src="../recent-trx.html"
              id="transaction_list"
              onclick="closeNavBody()"
            ></iframe>

            <!-- Withdraw confirm card (slides in below recipient; both can be visible simultaneously) -->
            <section
              class="withdraw_wrap"
              id="withdraw_wrap"
              aria-hidden="true"
            >
              <div
                class="card withdraw_card"
                id="withdraw_card"
                role="region"
                aria-labelledby="withdraw_title"
              >
                <div
                  style="
                    display: flex;
                    gap: 14px;
                    align-items: center;
                    justify-content: space-between;
                  "
                >
                  <div style="display: flex; gap: 12px; align-items: center">
                    <div
                      class="bank_avatar"
                      id="withdraw_bank_avatar"
                      aria-hidden="true"
                    >
                      <div
                        id="withdraw_bank_logo"
                        class="bank-logo"
                        aria-hidden="true"
                      ></div>
                    </div>
                    <div>
                      <div id="withdraw_title" style="font-weight: 700">
                        Withdrawal to <span id="withdraw_name">—</span>
                      </div>
                      <div id="withdraw_sub" class="subtext">—</div>
                    </div>
                  </div>
                </div>

                <div class="form_row">
                  <label for="withdraw_amount" class="form_label">Amount</label>
                  <input
                    id="withdraw_amount"
                    class="input"
                    placeholder="Enter amount"
                    inputmode="decimal"
                  />
                </div>

                <div
                  class="quick_chips_row"
                  id="quick_chips"
                  aria-hidden="false"
                ></div>

                <div class="form_row">
                  <label for="withdraw_remark" class="form_label">Remark</label>
                  <input
                    id="withdraw_remark"
                    class="input"
                    placeholder="What's this for (Optional)"
                  />
                </div>

                <div class="actions_row">
                  <button id="confirm_btn" class="btn btn_primary">
                    Confirm
                  </button>
                  <button id="cancel_btn" class="btn btn_primary">
                    Cancel
                  </button>
                </div>
              </div>
            </section>
          </div>

          <div class="card recipient_card" id="recipient_card">
            <div>
              <h3>Recipient Account</h3>
            </div>

            <div class="form_row">
              <label for="withdraw-amount"> Amount</label>
              <input
                type="text"
                inputmode="numeric"
                placeholder="Enter amount"
                id="withdraw-input"
                class="withdraw-input"
                maxlength="10"
              />

              <div
                id="amount_helper"
                class="helper-text"
                aria-live="polite"
              ></div>

              <label for="account_input" class="form_label"
                >Account Number</label
              ><br />
              <input
                id="account-input"
                class="account-input"
                placeholder="Enter  Account Number"
                inputmode="numeric"
                autocomplete="off"
                maxlength="10"
              />
              <div
                id="account_helper"
                class="helper-text"
                aria-live="polite"
              ></div>

              <label class="form_label" for="bank_list">Bank</label><br />
              <input
                type="text"
                name="bank_list"
                id="bank-list"
                placeholder="Search for bank"
                class="bank-list"
              />
              <ul id="optionsList" class="options-list"></ul>

              <p id="bank-output" class="bank-output"></p>
              <p id="name-output" class="name-output"></p>
              <div
                id="bank_helper"
                class="helper-text"
                aria-live="polite"
              ></div>
            </div>

            <div class="actions_row_small" style="margin-top: 10px">
              <button
                id="recipient_next"
                class="btn btn_primary"
                onclick="recipientNext()"
              >
                Next
              </button>

              <button
                class="btn btn_primary"
                onclick="cancel('recipient_card')"
              >
                Cancel
              </button>
            </div>
          </div>
          <div class="deposit-modal" id="deposit-modal">
            <label for="deposit-amount"> Amount</label>
            <input
              type="text"
              inputmode="numeric"
              placeholder="Enter amount"
              id="deposit-input"
              class="deposit-input"
              maxlength="10"
            />
            <div>
              <h5 id="error-amount" class="error-amount"></h5>
            </div>
            <div class="deposit-modal-btn" id="deposit-modal-btn">
              <button class="btn btn_primary" onclick="fund()">Confirm</button>
              <button class="btn btn_primary" onclick="cancel('deposit-modal')">
                Cancel
              </button>
            </div>
          </div>
        </section>
      </div>

      <!-- Confirmation modal overlay (Reminder / Summary) -->
      <div
        id="confirm_modal"
        class="confirm_overlay"
        role="dialog"
        aria-modal="true"
        aria-hidden="true"
      >
        <div
          class="confirm_card"
          role="document"
          aria-labelledby="confirm_title"
        >
          <div class="confirm_header">
            <h2 id="confirm_title" class="confirm_title">Reminder</h2>
            <p id="confirm_text" class="confirm_text">
              Double check the withdrawals details before you proceed. Please
              note that successful withdrawals cannot be reversed
            </p>
          </div>

          <div id="confirm_details" class="confirm_details" aria-live="polite">
            <div class="confirm_row">
              <div class="confirm_label">Name</div>
              <div class="confirm_value" id="confirm_name">—</div>
            </div>
            <div class="confirm_row">
              <div class="confirm_label">Account No.</div>
              <div class="confirm_value" id="confirm_account">—</div>
            </div>
            <div class="confirm_row">
              <div class="confirm_label">Bank</div>
              <div class="confirm_value" id="confirm_bank">—</div>
            </div>
            <div class="confirm_row">
              <div class="confirm_label">Amount</div>
              <div class="confirm_value" id="confirm_amount">—</div>
            </div>

            <h2>Enter PIN</h2>

            <div class="input-group">
              <input
                type="password"
                id="pin"
                placeholder="••••"
                maxlength="4"
                inputmode="numeric"
                pattern="\d{4}"
                title="Please enter exactly 4 digits"
              />
            </div>

            <button
              class="btn btn_primary"
              id="confirm-btn"
              onclick="makeWithdrawal()"
            >
              CONFIRM
            </button>
            <button class="btn btn_primary" onclick="cancel('confirm_modal')">
              CANCEL
            </button>
          </div>
        </div>
      </div>
    </main>
    <div id="toast" class="toast" aria-live="assertive" hidden></div>
    
    <iframe src="../loader.html" frameborder="0" id="loader"></iframe>

    <!-- script files  -->
    <script src="../side-nav.js"></script>
    <script src="script.js"></script>
  </body>
</html>
